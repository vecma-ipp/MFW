# specify machine dependent flags, try to keep machines in alphabetical order
# For each CHEASE_MACHINE define flags according to CHEASE_F90

#variables to be defined below depending on CHEASE_F90 and CHEASE_MACHINE variables
F90=ifort
F90FLAGS= -O3 -r8 -automatic -xT -parallel -I$(DIR_interpos)
F90FLAGS_parser= -O1 -r8 -automatic -xT -parallel
F90FLAGS_parser_nor8 = -O1  -automatic -xT -parallel
LDFLAGS= -O3 -r8 -automatic -xT -parallel
FUTILS = $(PWD)/futils_src
INCL_FUTILS= -I$(FUTILS)
HDF5=
INCL_HDF5=
LIBS=
LIBS_HDF5 =
OBJS_euitm =
Makefile_futils=Makefile_futils_dummy

CCFLAGS = -fPIC

ifeq ($(CHEASE_MACHINE),aix)
 # IBM (hal.epfl.ch) without HDF5 (at this stage do not compile file write_ogyropsi_hdf5.f90)
 F90 = xlf90
 F90FLAGS = -O3 -qtune=auto -qalign=4k -qdpc -q strict -qflag=E:E -qfree -qsuffix=f=f90 -I$(DIR_interpos)
 LDFLAGS = -O3 -qtune=auto
 # for IBM need to compile without automatic deallocation of pointer, thus O<2 needed AND not xlf95
 F90FLAGS_parser = -O1 -qtune=auto -qalign=4k -qdpc -q strict -qflag=E:E -qfree -qsuffix=f=f90
 F90FLAGS_parser_nor8 = -O1 -qtune=auto -qalign=4k -qdpc -q strict -qflag=E:E -qfree -qsuffix=f=f90
endif

ifeq ($(CHEASE_MACHINE),bg-fe1)
 BGP_FLOOR = /bgsys/drivers/ppcfloor
 BGF90     = $(BGP_FLOOR)/comm/bin/mpixlf90_r
 HDF5=/bgsys/local/hdf5-1.8.3
 BGFLAGS=  -qarch=450 -qtune=450 -I$(BGP_FLOOR)/arch/include -g -C
 Makefile_futils=Makefile.bgp
 F90      = $(BGF90)
 F90FLAGS =  -qsuffix=f=f90 $(BGFLAGS) -I$(HDF5)/include
 F90FLAGS_parser = -O1 -qsuffix=f=f90 $(BGFLAGS) -I$(HDF5)/include
 F90FLAGS_parser_nor8 = -O1 -qsuffix=f=f90 $(BGFLAGS) -I$(HDF5)/include
 FUTILS = $(PWD)/futils_src
 INCL_FUTILS= -I$(FUTILS)
 INCL_HDF5 = -I$(HDF5)/lib
 LDFLAGS  = -Wl,--allow-multiple-definition -L. -L$(HDF5)/lib -L/bgsys/lib
 LLIBS =
 LIBS =  -L$(FUTILS) -lfutils -lhdf5_fortran -lhdf5 $(LLIBS) -lc -lresolv
endif

ifeq ($(CHEASE_MACHINE),crpppc74)
 # CRPPC74 AMD (Example using Futils and Hdf5)
 # The Futils library is available on CRPP svn server
 # 
 F90 = mpif90
 F90FLAGS = -O3 -I$(DIR_interpos)
 FUTILS = $(PWD)/futils_src
 INCL_FUTILS= -I$(FUTILS)
 HDF5=/usr/local/hdf5
 INCL_HDF5 = -I$(HDF5)/include
 LIBS=-L$(FUTILS) -lfutils -L$(HDF5)/lib -lhdf5_fortran -lhdf5 -lz
endif

ifeq ($(CHEASE_MACHINE),crpppc214)
 # CRPPC214 (Example using Futils and Hdf5)
 # The Futils library is available on CRPP svn server
 # https://crppsvn.epfl.ch/repos/hdf5_futils/futils/trunk
 Makefile_futils=Makefile.ifort
 F90 = mpif90
 F90FLAGS = -O3 -I$(DIR_interpos)
 FUTILS = $(PWD)/futils_src
 INCL_FUTILS= -I$(FUTILS)
 # HDF5=/usr/local/hdf5 
 HDF5=/usr/local/hdf5-1.8.3
 INCL_HDF5 = -I$(HDF5)/include
 LIBS_HDF5 = -L$(HDF5)/lib 
 LIBS=-L$(FUTILS) -lfutils $(LIBS_HDF5) -lhdf5_fortran -lhdf5 -lz
endif

ifeq ($(CHEASE_MACHINE),delphi)
 # linux f95 delphi
 # not tested yet
 F90= f90
 F90FLAGS =  -I$(DIR_interpos)
 LDFLAGS = -g
endif

ifeq ($(CHEASE_MACHINE),jac)
 # Linux jac
 # not tested yet
 F90=f90
 F90FLAGS = -fast -O4 -tp athlon
 LDFLAGS = -fast -O4 -tp athlon
endif

ifeq ($(CHEASE_MACHINE),$(filter $(CHEASE_MACHINE), darwin ada curie occigen))
 # options to run on mac's and genci front end of HPC machines ada, curie and occigen are the same for runs without eu-itm tree
 
 ifeq ($(CHEASE_F90),ifort)
  # I suppose her that people are running with ifort here. But one could also add e.g. gfortran if ifort is not available. Lutjens
  F90 = ifort
  #
  F90FLAGS = -I$(DIR_interpos) -O3
#  F90FLAGS = -I$(DIR_interpos) -g -ftrapuv -fp-stack-check -check all -warn all -traceback
  F90FLAGS_parser = 
  F90FLAGS_parser_nor8 = 
  LDFLAGS =
  FUTILS = $(PWD)/futils_src
  INCL_FUTILS= -I$(FUTILS)
  HDF5 =
  INCL_HDF5 =
  LIBS = -L$(MKLROOT)/lib/intel64 -lmkl_blas95_lp64 -lmkl_lapack95_lp64 -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -lm
  LIBS_HDF5 =
 endif
endif

ifeq ($(CHEASE_MACHINE),turing)
 # These are the options to run chease on the front end of genci HPC machine turing (= Bluegene-Q). esslsmp library is used for BLAS/LAPACK. Lutjens
  F90 = xlf90_r
  #
  F90FLAGS = -I$(DIR_interpos) -O3 -qsmp=omp -qautodbl=dbl4
  #  F90FLAGS = -I$(DIR_interpos) -g -C -qsigtrap
  #  F90FLAGS = -I$(DIR_interpos) -g -qsigtrap -qoptdebug -qfullpath -C -qinitauto=7FBFFFFF -qflttrap=overflow:underflow:zerodivide:invalid:qpxstore:enable -qfloat=nans -qsigtrap -qkeepparm -qlanglvl=95std
  #  F90FLAGS = -I$(DIR_interpos) -g -ftrapuv -fp-stack-check -check all -warn all -traceback
  F90FLAGS_parser = 
  F90FLAGS_parser_nor8 = 
  LDFLAGS =
  FUTILS = $(PWD)/futils_src
  INCL_FUTILS= -I$(FUTILS)
  HDF5 =
  INCL_HDF5 =
  LIBS = -L/bgsys/ibm_essl/prod/opt/ibmmath/essl/5.1/lib64 -lesslsmpbg 
  LIBS_HDF5 =
  WRAPPER_LDFLAGS = -L/bgsys/ibm_essl/prod/opt/ibmmath/essl/5.1/lib64 -lesslsmpbg 
  WRAPPER_PATH = /bglocal/fe/pub/Modules/IDRIS/wrappers 
endif

ifeq ($(CHEASE_MACHINE),nec)
 # Nec SX7
 F90 = sxf90
 F90FLAGS =
 LDFLAGS = 
 LIBS = 

 # Nec SX8
 F90 = sxf90
 F90FLAGS = -Wf"-A dbl4" -C hopt -f2003
 LDFLAGS = -Wf"-A dbl4" -C hopt -f2003
 F90FLAGS = -ew -C hopt -f2003 
 LDFLAGS = -ew -C hopt -f2003 
 LIBS = 
endif

ifeq ($(CHEASE_MACHINE),pleiades)
  ifeq ($(CHEASE_F90),mpif90)
   # PLEIADES2 (Example using Futils and Hdf5)
   # The Futils library is available on CRPP svn server but has been included within CHEASE subdir futils_src (src part) for simplicity
   # 
   F90 = mpif90
   F90FLAGS = -O3
   # in futils Makefile, uses HDF5 variable without "/lib"
   FUTILS = $(PWD)/futils_src
   Makefile_futils=Makefile.pleiades
   INCL_FUTILS= -I$(FUTILS)
   HDF5=/usr/local/hdf5-1.8.1-pvfs
   INCL_HDF5 = -I$(HDF5)/lib -I$(DIR_interpos)
   LIBS=-L$(FUTILS) -lfutils -L$(HDF5)/lib -lhdf5_fortran -lhdf5 -lz 
  endif
endif

ifeq ($(CHEASE_MACHINE),sun)
 # sun
 F90=f90
 LIBS =	 -xlic_lib=sunperf
 F90FLAGS = -fast -O5
 LDFLAGS = -fast -O5
endif

ifeq ($(CHEASE_MACHINE),$(filter $(CHEASE_MACHINE), linux_nohdf5 aug))
  ifeq ($(CHEASE_F90),gfortran)
    F90 = gfortran
    F90FLAGS = -g -O0 -Wall -ffree-line-length-none -I$(DIR_interpos)
    F90FLAGS = -g -O2 -Wall -ffree-line-length-none -I$(DIR_interpos)
    F90FLAGS_parser = -O0 -ffree-line-length-none
    F90FLAGS_parser_nor8 = -O0 -ffree-line-length-none
    LDFLAGS = -g -O0 -ffree-line-length-none
    LDFLAGS = -g -O2 -ffree-line-length-none
  endif
  ifeq ($(CHEASE_F90),g95)
    F90 = g95
    F90FLAGS = -O3 -r8 -ftrace=full -fno-second-underscore -fPIC -I$(DIR_interpos)
    F90FLAGS_parser = -O1 -r8 -ftrace=full -fno-second-underscore -fPIC
    F90FLAGS_parser_nor8 = -O1 -ftrace=full -fno-second-underscore -fPIC
    LDFLAGS = -O3 -r8 -ftrace=full -fno-second-underscore -fPIC
  endif
  ifeq ($(CHEASE_F90),ifort)
    F90 = ifort
    F90FLAGS =  -g -O0 -r8 -automatic -xT -parallel -I$(DIR_interpos) -check all  #  –ftrapuv –nozero –stand f03
    F90FLAGS =  -g -O0 -r8 -automatic -xT -parallel -I$(DIR_interpos)  -check all,noarg_temp_created
    F90FLAGS = -g -O3 -r8 -fPIC -I$(DIR_interpos)
    #    F90FLAGS= -g -C -traceback -r8 -automatic -xT -parallel -I$(DIR_interpos)
    F90FLAGS_parser = -O1 -r8 -automatic -xT -parallel
    F90FLAGS_parser = -O1 -r8 -fPIC
    F90FLAGS_parser_nor8 = -O1 -fPIC
    #    LDFLAGS = -g -O0 -r8 -automatic -xT -parallel -check all
    LDFLAGS = -g -O3 -r8 -automatic -xT -parallel
    LDFLAGS = -g -O3 -r8 -fPIC
  endif
  ifeq ($(CHEASE_F90),mpif90)
   # CSC desktop Warwick
   F90 = mpif90
   F90FLAGS = -O3 -I$(DIR_interpos)
   F90FLAGS_parser = -O1
   F90FLAGS_parser_nor8 = -O1
   LDFLAGS =
  endif
endif

ifeq ($(CHEASE_MACHINE),linux_hdf5)
  ifeq ($(CHEASE_F90),gfortran)
    F90 = gfortran
    F90FLAGS = -g -O0 -Wall -ffree-line-length-none
    F90FLAGS_parser = -O0 -ffree-line-length-none
    F90FLAGS_parser_nor8 = -O0 -ffree-line-length-none
    LDFLAGS = -g -O0 -ffree-line-length-none
    HDF5=
    INCL_HDF5 = -I/usr/include/ -I/usr/lib64/gfortran/modules
    LIBS_HDF5 =  -L$(FUTILS) -lfutils -L/usr/lib64 -lhdf5_fortran -lhdf5 -lz
    Makefile_futils=Makefile.gfortran_lac5
  endif
  ifeq ($(CHEASE_F90),mpif90)
    F90 = mpif90
    F90FLAGS = -g -O2 -fbounds-check -fbacktrace 
    F90FLAGS = -g -O2
    F90FLAGS_parser = -O0 -ffree-line-length-none
    F90FLAGS_parser_nor8 = -O0 -ffree-line-length-none
    LDFLAGS = -g -O3
    FUTILS = $(PWD)/futils_src
    INCL_FUTILS= -I$(FUTILS)
    HDF5=/usr/lib64/mpich2
    INCL_HDF5 = -I/usr/include/mpich2-x86_64/
    LIBS_HDF5 =  -L$(FUTILS) -lfutils -L$(HDF5)/lib -lhdf5_fortran -lhdf5 -lz $(LIBS)
    Makefile_futils=Makefile.gfortran_lac5
  endif
  ifeq ($(CHEASE_F90),ifort)
    F90 = ifort
    F90FLAGS =  -g -O0 -r8 -automatic -xT -parallel -I$(DIR_interpos) -check all  #  –ftrapuv –nozero –stand f03
    F90FLAGS =  -g -O0 -r8 -automatic -xT -parallel -I$(DIR_interpos)  -check all,noarg_temp_created
    F90FLAGS = -g -O3 -r8 -fPIC
    #    F90FLAGS= -g -C -traceback -r8 -automatic -xT -parallel -I$(DIR_interpos)
    F90FLAGS_parser = -O1 -r8 -automatic -xT -parallel
    F90FLAGS_parser = -O1 -r8 -fPIC
    F90FLAGS_parser_nor8 = -O1 -fPIC
    #    LDFLAGS = -g -O0 -r8 -automatic -xT -parallel -check all
    LDFLAGS = -g -O3 -r8 -automatic -xT -parallel
    LDFLAGS = -g -O3 -r8 -fPIC
    HDF5=
    INCL_HDF5 = -I/usr/include/
    LIBS_HDF5 =  -L$(FUTILS) -lfutils -L/usr/lib64 -lhdf5_fortran -lhdf5 -lz $(LIBS)
    Makefile_futils=Makefile.ifort
  endif
endif

ifeq ($(CHEASE_MACHINE),gateway)
  ifeq ($(CHEASE_F90),g95)
    # g95 (on enea142 gateway)
    F90 = g95
    F90FLAGS = -r8  -ftrace=full -fno-second-underscore -fPIC -I$(UAL)/include/amd64_g95 -I$(DIR_interpos)
    F90FLAGS_parser = $(F90FLAGS)
    F90FLAGS_parser_nor8 =  -ftrace=full -fno-second-underscore -fPIC -I$(UAL)/include/amd64_g95
    LDFLAGS =
    FUTILS = $(PWD)/futils_src
    INCL_FUTILS= -I$(FUTILS)
    HDF5=/afs/efda-itm.eu/project/switm/hdf5/amd64_pgi_1.8.1
    INCL_HDF5 = -I$(HDF5)/include
    LIBS_HDF5 =  -L$(FUTILS) -lfutils -L$(HDF5)/lib -lhdf5_fortran -lhdf5 -lz $(LIBS)
    LIBS = -Llib -L$(UAL)/lib/  -lUALFORTRANInterface_g95 -lz
    LIBSlibxml = -lxml2
    OBJS_euitm =$(UAL)/fortraninterface/*_g95.o
  endif
  ifeq ($(CHEASE_F90),ifort)
    # Note: cannot use itm routines since compiled only with g95 or pgf90/mpif90
    F90 = ifort
    F90FLAGS = -O0 -g -r8 -fPIC  -I$(UAL)/include/amd64_ifort -I$(DIR_interpos)
    F90FLAGS = -O2 -g -r8 -fPIC  -I$(UAL)/include/amd64_ifort -I$(DIR_interpos)
    F90FLAGS_parser = -O0 -r8 -fPIC  -I$(UAL)/include/amd64_ifort -I$(DIR_interpos)
    F90FLAGS_parser = -O1 -r8 -fPIC  -I$(UAL)/include/amd64_ifort -I$(DIR_interpos)
    F90FLAGS_parser_nor8 = -O1 -fPIC  -I$(UAL)/include/amd64_ifort -I$(DIR_interpos)
    LDFLAGS = -O0 -g -r8 -fPIC  -I$(UAL)/include/amd64_ifort
    LDFLAGS = -O2 -g -r8 -fPIC  -I$(UAL)/include/amd64_ifort
    FUTILS = $(PWD)/futils_src
    INCL_FUTILS= -I$(FUTILS)
    HDF5=
    INCL_HDF5 = -I$(HDF5)/include
    LIBS =  -L$(UAL)/lib  -lUALFORTRANInterface_ifort -lz -L/afs/ipp/itm/switm/lib/lapack/3.4.2/lib/amd64_intel_12 -llapack -lrefblas
    LIBS_HDF5 =  -L$(FUTILS) -lfutils -L$(HDF5)/lib -lhdf5_fortran -lhdf5 -lz $(LIBS)
    LIBSlibxml = -lxml2
    OBJS_euitm =
  endif
  ifeq ($(CHEASE_F90),pgf90)
    # pgf90 (on enea142 gateway)
    F90 = pgf90
    F90FLAGS = -r8  -ftrace=full -fno-second-underscore -fPIC  -I$(DIR_interpos)
    # use ueITM_schemas... from -I directory

    ## for better debugging and check of bounds:
    F90FLAGS = -Mbounds -Mchkfpstk -Mchkptr -Mdclchk -O0 -r8 -g  -fPIC -I$(UAL)/include/amd64_pgi -I$(DIR_interpos)
    ## for standard optimized use:
    #F90FLAGS = -O3 -r8 -g  -fPIC -I$(UAL)/include/amd64_pgi -I$(DIR_interpos)
    #F90FLAGS = -O0 -r8 -g  -fPIC -I$(UAL)/include/amd64_pgi -I$(DIR_interpos)

    F90FLAGS_parser = -O1 -r8 -g  -fPIC -I$(UAL)/include/amd64_pgi -I$(DIR_interpos)
    F90FLAGS_parser_nor8 = -O1 -g  -fPIC -I$(UAL)/include/amd64_pgi -I$(DIR_interpos)
    LDFLAGS = -fPIC  -I$(UAL)/include/amd64_pgi
    FUTILS = $(PWD)/futils_src
    INCL_FUTILS= -I$(FUTILS)
    HDF5=/afs/efda-itm.eu/project/switm/hdf5/amd64_pgi_1.8.1
    INCL_HDF5 = -I$(HDF5)/include
    # LIBS =  -L$(UAL)/lib  -lUALFORTRANInterface_pgi -lacml -L$(DIR_interpos) -linterpospgf95_wolapack
    LIBS =  -L$(UAL)/lib  -lUALFORTRANInterface_pgi -lacml -lz
    LIBS_HDF5 =  -L$(FUTILS) -lfutils -L$(HDF5)/lib -lhdf5_fortran -lhdf5 -lz $(LIBS) -lacml
    LIBSlibxml = -lxml2
    OBJS_euitm =$(UAL)/fortraninterface/*_pgi.o
  endif
  ifeq ($(CHEASE_F90),mpif90)
    # mpif90 (on enea142 gateway)
    F90 = mpif90
    F90FLAGS = -r8 -fPIC -Mnosecond_underscore -I$(UAL)/include/amd64_pgi -I$(DIR_interpos)
    F90FLAGS_parser = -O0 -r8 -fPIC -Mnosecond_underscore -I$(UAL)/include/amd64_pgi
    F90FLAGS_parser_nor8 = -O0 -fPIC -Mnosecond_underscore -I$(UAL)/include/amd64_pgi
    LDFLAGS =
    FUTILS = $(PWD)/futils_src
    INCL_FUTILS= -I$(FUTILS)
    HDF5=/afs/efda-itm.eu/project/switm/hdf5/amd64_pgi_1.8.1
    INCL_HDF5 = -I$(HDF5)/include
    LIBS = -L$(UAL)/lib  -lUALFORTRANInterface_pgi -lz
    LIBS_HDF5 =  -L$(FUTILS) -lfutils -L$(HDF5)/lib -lhdf5_fortran -lhdf5 -lz $(LIBS)
    LIBSlibxml = -lxml2
    OBJS_euitm =$(UAL)/fortraninterface/*_pgi.o
  endif
endif

ifeq ($(CHEASE_MACHINE),guiness)
  F90=ifort
  F90FLAGS= -g -O3 -r8 -I$(DIR_interpos)
  F90FLAGS_parser= -g -O1 -r8
  F90FLAGS_parser_nor8= -g -O1
  LDFLAGS= 
  FUTILS = $(PWD)/futils_src
  INCL_FUTILS= -I$(FUTILS)
  HDF5=
  INCL_HDF5=
  LIBS=
  LIBS_HDF5 =
endif

ifeq ($(CHEASE_MACHINE),ITER)
 # hpc-login4.iter.org
    F90 = g95
    F90FLAGS = -r8  -ftrace=full -fno-second-underscore -fPIC `pkg-config imas-gfortran interpos --cflags`
    F90FLAGS = -O3 -r8  -ftrace=full -fno-second-underscore -fPIC `pkg-config imas-gfortran interpos --cflags`
    F90FLAGS_parser = -O1 -r8  -ftrace=full -fno-second-underscore -fPIC `pkg-config imas-gfortran interpos --cflags`
    F90FLAGS_parser_nor8 = -O1 -ftrace=full -fno-second-underscore -fPIC `pkg-config imas-gfortran interpos --cflags`
    LDFLAGS =
    LDFLAGS = -O3 -r8 -ftrace=full -fno-second-underscore -fPIC
    FUTILS = $(PWD)/futils_src
    INCL_FUTILS= -I$(FUTILS)
    HDF5=
    INCL_HDF5 = -I$(H5DIR)/include
    LIBS_HDF5 =  -L$(FUTILS) -lfutils -L$(H5DIR)/lib -lhdf5_fortran -lhdf5 -lz $(LIBS)
    LIBS = -Llib `pkg-config imas-gfortran --libs`
    LIBS = 
    OBJS_IMASlocal =
    OBJS_IMASlocal =

    F90 = gfortran
    F90FLAGS = -g -O0 -Wall -ffree-line-length-none `pkg-config imas-gfortran interpos --cflags`
    F90FLAGS_parser = -O0 -ffree-line-length-none
    F90FLAGS_parser_nor8 = -O0 -ffree-line-length-none
    LDFLAGS = -g -O0 -ffree-line-length-none
    OBJS_IMASlocal =
    LIBS = 

    F90 = ifort
    F90FLAGS = -O3 -r8 -automatic -xT -parallel `pkg-config imas-ifort interpos --cflags`
    F90FLAGS = -O0 -r8 -parallel `pkg-config imas-ifort interpos --cflags`
    F90FLAGS = -O0 -r8 -g  -fPIC `pkg-config imas-ifort interpos --cflags`
    F90FLAGS = -O0 -r8 -g  -fPIC -check all,noarg_temp_created `pkg-config imas-ifort interpos --cflags`
    F90FLAGS = -O2 -r8 -g  -fPIC `pkg-config imas-ifort --cflags`
    F90FLAGS = -O0 -r8 -g  -fPIC `pkg-config imas-ifort --cflags`

    F90FLAGS_parser = -O1 -r8 -automatic -xT -parallel
    F90FLAGS_parser = -O0 -r8 -g -fPIC -check all,noarg_temp_created
    F90FLAGS_parser = -O0 -r8 -g -fPIC
    F90FLAGS_parser_nor8 = -O0 -g -fPIC

    LDFLAGS = -O2 -r8 -automatic -xT -parallel
    LDFLAGS = -O2 -r8 -g -fPIC
    LDFLAGS = -O0 -r8 -g -fPIC
    LIBS = `pkg-config imas-ifort --libs` -limf -lm
    FUTILS = $(PWD)/futils_src
    INCL_FUTILS= -I$(FUTILS)
    HDF5=
    INCL_HDF5 = -I$(H5DIR)/include
    LIBS_HDF5 =  -L$(FUTILS) -lfutils -L$(H5DIR)/lib -lhdf5_fortran -lhdf5 -lz $(LIBS)
    OBJS_IMASlocal =
    OBJS_IMASlocal =

endif

ifeq ($(CHEASE_MACHINE),gateway_with_itm)
  ifeq ($(CHEASE_F90),ifort)
    # Note: cannot use itm routines since compiled only with g95 or pgf90/mpif90
    F90 = ifort
    F90FLAGS = -O0 -g -r8 -fPIC  -I$(UAL)/include/amd64_ifort -I$(DIR_interpos)
    F90FLAGS = -O2 -g -r8 -fPIC  -I$(UAL)/include/amd64_ifort -I$(DIR_interpos)
    F90FLAGS_parser = -O0 -r8 -fPIC  -I$(UAL)/include/amd64_ifort -I$(DIR_interpos)
    F90FLAGS_parser = -O1 -r8 -fPIC  -I$(UAL)/include/amd64_ifort -I$(DIR_interpos)
    F90FLAGS_parser_nor8 = -O1 -fPIC  -I$(UAL)/include/amd64_ifort -I$(DIR_interpos)
    LDFLAGS = -O0 -g -r8 -fPIC  -I$(UAL)/include/amd64_ifort
    LDFLAGS = -O2 -g -r8 -fPIC  -I$(UAL)/include/amd64_ifort
    FUTILS = $(PWD)/futils_src
    INCL_FUTILS= -I$(FUTILS)
    HDF5=
    INCL_HDF5 = -I$(HDF5)/include
    LIBS =  -L$(UAL)/lib  -lUALFORTRANInterface_ifort -lz -L/afs/ipp/itm/switm/lib/lapack/3.4.2/lib/amd64_intel_12 -llapack -lrefblas
    LIBS_HDF5 =  -L$(FUTILS) -lfutils -L$(HDF5)/lib -lhdf5_fortran -lhdf5 -lz $(LIBS)
    LIBSlibxml = -lxml2
    OBJS_euitm =
  endif
endif
