The following should be done on a GRID User Interface machine (such as
euforia.efda-itm.eu):

Set the default SYS to GRID:

echo "SYS=GRID" > obj/SYS

compile the code

make depend
make

then

voms-proxy-init -voms euforia -hours 744
i2g-job-submit --vo euforia -o jobids.ets ets.jdl
i2g-job-status -i jobids.ets
i2g-job-status -i jobids.ets --verbosity 2
mkdir ETSFOLDER
i2g-job-get-output --dir ETSFOLDER -i jobids.ets

to see the status of the EUFORIA grid

lcg-infosites --vo euforia se
lcg-infosites --vo euforia ce


For the UAL version:

start the mdsip server on enea142

mdsip -p 8000 -m -h $MDSPLUS_DIR/etc/mdsip.hosts

then compile the UAL version

make SYS=GRID_UAL.local

i2g-job-submit --vo euforia -o jobids.ets GRID/ets.jdl
i2g-job-status -i jobids.ets
i2g-job-status -i jobids.ets --verbosity 2
mkdir ETSFOLDER
i2g-job-get-output --dir ETSFOLDER -i jobids.ets

		      ===== Local Testing =====

( setenv LD_LIBRARY_PATH /usr/java/jdk1.5.0_14/jre/lib/i386:/usr/java/jdk1.5.0_14/jre/lib/i386/server:GRID/lib:$LD_LIBRARY_PATH ; setenv MDS_PATH "GRID/tdi" ; setenv euitm_path "enea142.efda-itm.eu::/pfs/work/imp3/coster/itmdb/itm_trees/test/4.06d/mdsplus/0;enea142.efda-itm.eu::/pfs/itmdb/itm_trees/public/models/4.06d/mdsplus" ; obj/GRID_UAL.local/solver_test )

		    ===== Timing Information =====

No UAL running locally on euforia.efda-itm.eu
                             Inclusive                    Exclusive
Subroutine  #calls  Time(s)      %     MFlops    Time(s)      %     MFlops
--------------------------------------------------------------------------
whole          1      2.587   100.0     0.000      0.000     0.0     0.000
read           1      0.007     0.3     0.000      0.007     0.3     0.000
alloc          1      0.000     0.0     0.000      0.000     0.0     0.000
initprof       1      0.014     0.5     0.000      0.014     0.5     0.000
setcpo       101      0.002     0.1     0.000      0.002     0.1     0.000
timestep       1      2.566    99.2     0.000      0.000     0.0     0.000
t.analyt     100      0.749    28.9     0.000      0.747    28.9     0.000
t.copy.i     100      0.023     0.9     0.000      0.023     0.9     0.000
t.ets        100      0.733    28.3     0.000      0.733    28.3     0.000
t.conv       100      0.032     1.2     0.000      0.032     1.2     0.000
t.write      100      1.005    38.8     0.000      1.005    38.8     0.000
t.copy.o     100      0.025     1.0     0.000      0.025     1.0     0.000
dealloc        1      0.000     0.0     0.000      0.000     0.0     0.000


Running locally on euforia.efda-itm.eu

RETURNED SHOT: 10001
RETURNED SHOT: 10001

                             Inclusive                    Exclusive
Subroutine  #calls  Time(s)      %     MFlops    Time(s)      %     MFlops
--------------------------------------------------------------------------
whole          1     90.950   100.0     0.000      0.000     0.0     0.000
read           1      0.010     0.0     0.000      0.010     0.0     0.000
ualo           1      1.348     1.5     0.000      1.348     1.5     0.000
alloc          1      0.001     0.0     0.000      0.001     0.0     0.000
initprof       1      0.020     0.0     0.000      0.020     0.0     0.000
setcpo       101      0.006     0.0     0.000      0.006     0.0     0.000
timestep       1     89.569    98.5     0.000      0.001     0.0     0.000
t.analyt     100      0.769     0.8     0.000      0.763     0.8     0.000
t.copy.i     100      0.012     0.0     0.000      0.012     0.0     0.000
t.ets        100      0.772     0.8     0.000      0.772     0.8     0.000
t.conv       100      0.031     0.0     0.000      0.031     0.0     0.000
t.write      100      0.886     1.0     0.000      0.886     1.0     0.000
t.ualw       100     87.078    95.7     0.000     87.078    95.7     0.000
t.copy.o     100      0.022     0.0     0.000      0.022     0.0     0.000
dealloc        1      0.000     0.0     0.000      0.000     0.0     0.000
ualc           1      0.002     0.0     0.000      0.002     0.0     0.000

Running remotely
      Submitted        : Mon May 25 21:08:59 2009
      Waiting          : Mon May 25 21:11:31 2009
      Ready            : Mon May 25 21:12:06 2009
      Scheduled        : Mon May 25 21:12:31 2009
      Running          : Mon May 25 21:14:13 2009
      Done             : Tue May 26 01:03:06 2009

RETURNED SHOT: 60001
RETURNED SHOT: 60001

                             Inclusive                    Exclusive
Subroutine  #calls  Time(s)      %     MFlops    Time(s)      %     MFlops
--------------------------------------------------------------------------
whole          1  13505.455   100.0     0.000      0.000     0.0     0.000
read           1      0.001     0.0     0.000      0.001     0.0     0.000
ualo           1     10.304     0.1     0.000     10.304     0.1     0.000
alloc          1      0.000     0.0     0.000      0.000     0.0     0.000
initprof       1      0.003     0.0     0.000      0.003     0.0     0.000
setcpo       101      0.001     0.0     0.000      0.001     0.0     0.000
timestep       1  13494.849    99.9     0.000      0.000     0.0     0.000
t.analyt     100      0.265     0.0     0.000      0.264     0.0     0.000
t.copy.i     100      0.007     0.0     0.000      0.007     0.0     0.000
t.ets        100      0.279     0.0     0.000      0.279     0.0     0.000
t.conv       100      0.012     0.0     0.000      0.012     0.0     0.000
t.write      100      0.330     0.0     0.000      0.330     0.0     0.000
t.ualw       100  13493.939    99.9     0.000  13493.939    99.9     0.000
t.copy.o     100      0.018     0.0     0.000      0.018     0.0     0.000
dealloc        1      0.000     0.0     0.000      0.000     0.0     0.000
ualc           1      0.297     0.0     0.000      0.297     0.0     0.000

Analysis:
Elapsed time for the whole code:
local, no UAL : local, UAL : remote, UAL
2.587         : 90.950     : 13505.455
0.0284442     :  1         :   148.493

Data transferred via UAL: 13.1427 MB
Time taken: 13493.939
Transfer rate: 0.997347 kBytes/sec
