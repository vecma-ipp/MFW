<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:element name="parameters">
    <xs:annotation>
      <xs:documentation>
        GLOBAL: Parameters for transport combiner
      </xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="CURRENT" maxOccurs="1"/>
        <xs:element ref="NE" maxOccurs="1"/>
        <xs:element ref="TE" maxOccurs="1"/>
        <xs:element ref="NI" maxOccurs="1"/>
        <xs:element ref="TI" maxOccurs="1"/>
        <xs:element ref="VTOR" maxOccurs="1"/>
        <xs:element ref="NZ" maxOccurs="1"/>
        <xs:element ref="TZ" maxOccurs="1"/>
        <xs:element ref="CHECKs" maxOccurs="1"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>


  <xs:element name="CURRENT">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="conductivity" maxOccurs="1"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="NE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="diffusion" maxOccurs="1"/>
        <xs:element ref="convective_velocity" maxOccurs="1"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="TE">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="diffusion" maxOccurs="1"/>
        <xs:element ref="convective_velocity" maxOccurs="1"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="NI">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="diffusion" maxOccurs="1"/>
        <xs:element ref="convective_velocity" maxOccurs="1"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="TI">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="diffusion" maxOccurs="1"/>
        <xs:element ref="convective_velocity" maxOccurs="1"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="VTOR">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="diffusion" maxOccurs="1"/>
        <xs:element ref="convective_velocity" maxOccurs="1"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="NZ">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="diffusion" maxOccurs="1"/>
        <xs:element ref="convective_velocity" maxOccurs="1"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="TZ">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="diffusion" maxOccurs="1"/>
        <xs:element ref="convective_velocity" maxOccurs="1"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>


  <xs:element name="conductivity">
    <xs:complexType>
      <xs:choice>
        <xs:element ref="OFF" maxOccurs="1"/>
        <xs:element ref="Multipliers_for_conductivity_from"/>
      </xs:choice>
    </xs:complexType>
  </xs:element>

  <xs:element name="diffusion">
    <xs:complexType>
      <xs:choice>
        <xs:element ref="OFF" maxOccurs="1"/>
        <xs:element ref="Multipliers_for_contributions_from"/>
      </xs:choice>
    </xs:complexType>
  </xs:element>

  <xs:element name="convective_velocity">
    <xs:complexType>
      <xs:choice>
        <xs:element ref="OFF" maxOccurs="1"/>
        <xs:element ref="Multipliers_for_contributions_from"/>
        <xs:element ref="V_over_D_ratio_for_contributions_from"/>
      </xs:choice>
    </xs:complexType>
  </xs:element>


  <xs:element name="Multipliers_for_conductivity_from">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="Data_Base"/>
        <xs:element ref="Anomalous"/>
        <xs:element ref="Neoclassical"/>
        <xs:element ref="Background"/>
        <xs:element ref="Spitzer"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="Multipliers_for_contributions_from">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="Data_Base"/>
        <xs:element ref="Anomalous"/>
        <xs:element ref="Neoclassical"/>
        <xs:element ref="Background"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="V_over_D_ratio_for_contributions_from">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="Data_Base"/>
        <xs:element ref="Anomalous"/>
        <xs:element ref="Neoclassical"/>
        <xs:element ref="Background"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element default="1" name="Data_Base" type="xs:float"/>
  <xs:element default="1" name="Anomalous" type="xs:float"/>
  <xs:element default="1" name="Neoclassical" type="xs:float"/>
  <xs:element default="1" name="Background" type="xs:float"/>
  <xs:element default="1" name="Spitzer" type="xs:float"/>
  <xs:element name="OFF" type="xs:string"
    fixed="all transport coefficients for this channel will be nulified"/>
  <xs:element name="CHECKs">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="remove_negative_diffusion" maxOccurs="1"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="remove_negative_diffusion" type="xs:boolean" default="true"/>

  <xs:simpleType name="FloatList">
    <xs:list itemType="xs:float"/>
  </xs:simpleType>
</xs:schema>
